#: import main main
#: import ListItemButton kivy.uix.listview.ListItemButton
#: import ListAdapter kivy.adapters.listadapter.ListAdapter

BooksRecommendationRoot:
<BooksRecommendationRoot>:
    AddBookForm

<AddBookForm>:
    background_color:
    orientation: "vertical"
    search_input: search_box
    search_results: search_results_list
    BoxLayout:
        height: "35dp"
        size_hint_y: None
        Button:
            text: "Home"
            size_hint_x: None
            width: "50dp"
        Button:
            text: "Search"
            size_hint_x: None
            width: "60dp"
            height: "40dp"
            on_press: root.search_book()
            Image:
                source: "search.png"
                size_hint_x: None
                width: "40dp"
                height: "40dp"
        TextInput:
            id: search_box
            focus: True
            size_hint_x: 50
            multiline: False
            on_text_validate: root.search_book()

    BoxLayout:
        orientation: "vertical"
        Label:
            text: "Search Results"
            size_hint_y: None
            height: "500dp"

    BoxLayout:
        orientation: "vertical"
        ListView:
            id: search_results_list
            size_hint_y: None
            height: "500px"
            adapter:
                ListAdapter(data=[], cls=main.BookButton)
#            item_strings: [] #can manually enter values(static ones)


<BookButton>:
    on_press: app.root.show_book(self.text)

<CurrentBook@BoxLayout>:
    title: ""
    thumbnail: ""
    author: ""
    publisher: ""
    date: ""
    description: ""
    orientation: "vertical"
    Label:
        text: root.title
    BoxLayout:
        orientation: "horizontal"
        size_hint_y: None
        height: "40dp"
        Button:
            text: ""
            size_hint_x: None
            width: "40dp"
            height: "40dp"
            on_press: app.root.show_book_form()
            Image:
                source: "back.png"
                size_hint_x: None
                width: "40dp"
                height: "40dp"
        Label:
            text: root.title